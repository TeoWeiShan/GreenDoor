@model IEnumerable<greendoor.Models.Shop>

@{
    ViewData["Title"] = "Index";
}
<html>

<head>
    <meta charset="utf-8">
    <!-- Set the initial view zooming scale for mobile device -->
    <meta name="viewport" content="width = device-width,
 initial-scale = 1" />
    <title>Shops</title>
    <!-- Reference to customized styling for this website -->
    <link rel="stylesheet" type="text/css" href="~/css/Site.css">
</head>

<body class="text-center">
    <br /><br />
    <section>

        <h2 class="display-5 fw-bold">Shops Leaderboard</h2>
        <p class="lead mb-4">Look out for your favourite shops!</p>


        <div class="row">
            <div class="col-4">
                @if (ViewData["topNumberReviews1a"] != null)
                {
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Top Shops for number of reviews</th>
                                    <th>Number of Reviews</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>@ViewData["topNumberReviews1a"]</th>
                                    <th>@ViewData["topNumberReviews1b"]</th>
                                </tr>
                                @if (ViewData["topNumberReviews2a"] != null)
                                {
                                    <tr>
                                        <th>@ViewData["topNumberReviews2a"]</th>
                                        <th>@ViewData["topNumberReviews2b"]</th>
                                    </tr>
                                }
                                @if (ViewData["topNumberReviews3a"] != null)
                                {
                                    <tr>
                                        <th>@ViewData["topNumberReviews3a"]</th>
                                        <th>@ViewData["topNumberReviews3b"]</th>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                }
            </div>

            <div class="col-4">
                @if (ViewData["topAverageReviews1a"] != null)
                {
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Top Shops for average review score</th>
                                    <th>Average Review Score</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>@ViewData["topAverageReviews1a"]</th>
                                    <th>@ViewData["topAverageReviews1b"]</th>
                                </tr>
                                @if (ViewData["topAverageReviews2a"] != null)
                                {
                                    <tr>
                                        <th>@ViewData["topAverageReviews2a"]</th>
                                        <th>@ViewData["topAverageReviews2b"]</th>
                                    </tr>
                                }
                                @if (ViewData["topAverageReviews3a"] != null)
                                {
                                    <tr>
                                        <th>@ViewData["topAverageReviews3a"]</th>
                                        <th>@ViewData["topAverageReviews3b"]</th>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                }
            </div>

            <div class="col-4">
                @if (ViewData["topNumFavourite1a"] != null)
                {
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Top Shops for number of favourites</th>
                                    <th>Number of Favourites</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>@ViewData["topNumFavourite1a"]</th>
                                    <th>@ViewData["topNumFavourite1b"]</th>
                                </tr>
                                @if (ViewData["topNumFavourite2a"] != null)
                                {
                                    <tr>
                                        <th>@ViewData["topNumFavourite2a"]</th>
                                        <th>@ViewData["topNumFavourite2b"]</th>
                                    </tr>
                                }
                                @if (ViewData["topNumFavourite3a"] != null)
                                {
                                    <tr>
                                        <th>@ViewData["topNumFavourite3a"]</th>
                                        <th>@ViewData["topNumFavourite3b"]</th>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                }
            </div>

        </div>
    </section>
    @using (Html.BeginForm("ShopSearchResults", "Shops", FormMethod.Post))
    {
        <p>Search using keyword or zone : <input type="text" name="searchQuery"></p>
        <select name="zoneSelected"
                asp-items="@ViewData["zoneSelected"] as List<SelectListItem>"
                class="form-control">
        </select>
        <br />
        <p><input type="submit" value="Submit"></p>

    }

    <section>
        <div class="px-4 py-5 my-5 text-center">
            <h2 class="display-5 fw-bold">Shops List</h2>
            <p class="lead mb-4">Locate Thift Shops Around You</p>
            <partial name="~/Views/Shops/_ViewShops.cshtml" model="@Model" />

            <div style="height:60%;width:60%;">
                <img src="~/images/Online Shopping_Isometric.png"
                     style="position: absolute; float: left; left: 0px; bottom: 0px; z-index: -1; opacity: 0.7;">
            </div>
        </div>
    </section>

</body>
</html>
